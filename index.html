<script>
  const configUrl = "tasks.json"; // ton JSON déjà en ligne

  async function loadTasks() {
    try {
      const response = await fetch(configUrl);
      if (!response.ok) throw new Error("Impossible de charger tasks.json");
      const data = await response.json();

      const container = document.getElementById('tasks');
      container.innerHTML = "";

      // data est un tableau de tableaux
      let found = false;
      data.forEach(group => {
        group.forEach(task => {
          found = true;
          const div = document.createElement("div");
          div.style.border = "1px solid #ccc";
          div.style.padding = "8px";
          div.style.margin = "4px 0";
          div.textContent = task.text || "Sans titre";
          container.appendChild(div);
        });
      });

      if (!found) {
        container.textContent = "Aucune tâche trouvée dans tasks.json";
      }

    } catch (err) {
      document.getElementById('tasks').textContent = "Erreur : " + err.message;
    }
  }

  loadTasks();
</script>
